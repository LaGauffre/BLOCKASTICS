\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% \usepackage{amscd, amsfonts, amsmath, amssymb, amstext, amsthm, caption, epsfig, fancyhdr, float, graphicx, latexsym, mathtools, multicol, multirow, algorithm, chngcntr}
\usepackage[english, french]{babel}
\usepackage{booktabs}

\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subfig}
\usepackage{xspace}
\usepackage{fourier}

\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\usepackage{tkz-graph}
\usetikzlibrary{automata,arrows,positioning,calc}
\usetikzlibrary{positioning}
\usetikzlibrary{fit}
\usetikzlibrary{backgrounds}
\usetikzlibrary{calc}
\usetikzlibrary{shapes}
\usetikzlibrary{mindmap}
\usetikzlibrary{decorations.text}
\usetikzlibrary{decorations.pathreplacing}

\definecolor{myLightGray}{RGB}{191,191,191}
\definecolor{myGray}{RGB}{160,160,160}
\definecolor{myDarkGray}{RGB}{144,144,144}
\definecolor{myDarkRed}{RGB}{167,114,115}
\definecolor{myRed}{RGB}{255,58,70}
\definecolor{myGreen}{RGB}{0,255,71}

% \theoremstyle{definition} % insert bellow all blocks you want in normal text
% \newtheorem{definition}{Definition}



% tikzmark command, for shading over items
\newcommand{\tikzmark}[1]{\tikz[overlay,remember picture] \node (#1) {};}
% Define block styles
\tikzstyle{decision} = [diamond, draw, fill=blue!20,
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20,
    text width=5em, text centered, rounded corners]
\tikzstyle{line} = [draw]
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm,
    minimum height=2em]

\usepackage[most]{tcolorbox}

\setbeamertemplate{blocks}[rounded][shadow=true] % use rounded blocks with standard beamer shadow

\newcommand*{\warning}{\fontencoding{U}\fontfamily{futs}\selectfont\char 66\relax}

% Distributions.
\newcommand*{\UnifDist}{\mathsf{Unif}}
\newcommand*{\ExpDist}{\mathsf{Exp}}
\newcommand*{\DepExpDist}{\mathsf{DepExp}}
\newcommand*{\GammaDist}{\mathsf{Gamma}}
\newcommand*{\LognormalDist}{\mathsf{LogNorm}}
\newcommand*{\WeibullDist}{\mathsf{Weib}}
\newcommand*{\ParetoDist}{\mathsf{Par}}
\newcommand*{\NormalDist}{\mathsf{Norm}}

\newcommand*{\GeometricDist}{\mathsf{Geom}}
\newcommand*{\NegBinomialDist}{\mathsf{NegBin}}
\newcommand*{\PoissonDist}{\mathsf{Poisson}}
\newcommand*{\BivariatePoissonDist}{\mathsf{BPoisson}}
\newcommand*{\CyclicalPoissonDist}{\mathsf{CPoisson}}

\newcommand*{\iid}{\textbf{iid}\@\xspace}
\newcommand*{\pdf}{\textbf{pdf}\@\xspace}
\newcommand*{\cdf}{\textbf{cdf}\@\xspace}
\newcommand*{\pmf}{\textbf{pmf}\@\xspace}
\newcommand*{\abc}{{\textbf{abc}}\@\xspace}
\newcommand*{\smc}{\textbf{smc}\@\xspace}
\newcommand*{\mcmc}{\textbf{mcmc}\@\xspace}
\newcommand*{\ess}{\textbf{ess}\@\xspace}
\newcommand*{\mle}{\textbf{mle}\@\xspace}
\newcommand*{\bic}{\textbf{bic}\@\xspace}
\newcommand*{\kde}{\textbf{kde}\@\xspace}
\newcommand*{\glm}{\textbf{glm}\@\xspace}
\newcommand*{\xol}{\textbf{xol}\@\xspace}
\newcommand*{\cpu}{\textbf{cpu}\@\xspace}
\newcommand*{\gpu}{\textbf{gpu}\@\xspace}
\newcommand*{\arm}{\textbf{arm}\@\xspace}

\def \si {\sigma}
\def \la {\lambda}
\def \al {\alpha}
% \def\e*{\end{eqnarray*}}
\def \di{\displaystyle}

\def \E{\mathbb E}
\def \N{\mathbb N}
\def \Z{\mathbb Z}
\def \NZ{\mathbb{N}_0}
\def \I{\mathbb I}
\def \w{\widehat}
\def \P {\mathbb P}
\def \V{\mathbb V}


\newcommand{\CL}{\mathbb{C}}
\newcommand{\RL}{\mathbb{R}}
\newcommand{\nat}{{\mathbb N}}
\newcommand{\Laplace}{\mathscr{L}}
\newcommand{\e}{\mathrm{e}}
\newcommand{\ve}{\bm{\mathrm{e}}} % vector e

\renewcommand{\L}{\mathcal{L}} % e.g. L^2 loss.

\newcommand{\ih}{\mathrm{i}}
\newcommand{\oh}{{\mathrm{o}}}
\newcommand{\Oh}{{\mathcal{O}}}
\newcommand{\Exp}{\mathbb{E}}

\newcommand{\Norm}{\mathcal{N}}
\newcommand{\LN}{\mathcal{LN}}
\newcommand{\SLN}{\mathcal{SLN}}

\renewcommand{\Pr}{\mathbb{P}}
\newcommand{\Ind}{\mathbb I}
\newcommand\bfsigma{\bm{\sigma}}
\newcommand\bfSigma{\bm{\Sigma}}
\newcommand\bfLambda{\bm{\Lambda}}
\newcommand{\stimes}{{\times}}
\def \limsup{\underset{n\rightarrow+\infty}{\overline{\lim}}}
\def \liminf{\underset{n\rightarrow+\infty}{\underline{\lim}}}




% vertical separator macro
\newcommand{\vsep}{
  \column{0.0\textwidth}
    \begin{tikzpicture}
      \draw[very thick,black!10] (0,0) -- (0,7.3);
    \end{tikzpicture}
}
\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

% More space between lines in align
% \setlength{\mathindent}{0pt}

% Beamer theme
\usetheme{ZMBZFMK}
\usefonttheme[onlysmall]{structurebold}
\mode<presentation>
\setbeamercovered{transparent=10}

% align spacing
\setlength{\jot}{0pt}

\setbeamertemplate{navigation symbols}{}%remove navigation symbols

\title[BLOCKASTICS IV]{Stochastic Models for blockchain analysis}
\subtitle{Decentralized and cryptopricing}
\author{Pierre-O. Goffard}
\institute[ISFA]{Institut de Science Financi√®res et d'Assurances\\
 \texttt{pierre-olivier.goffard@univ-lyon1.fr}}
\date{\today}
\titlegraphic{\includegraphics[width=2.5cm]{../../Figures/bfs_logo.png}} 

\begin{document}
\begin{frame}
  \titlepage
\end{frame}
\begin{frame}{Decentralized and cryptopricing}
\tableofcontents

\end{frame}
\section{Decentralized finance}
\begin{frame}{Types of Crypto Assets}
\begin{itemize}
  \item Cryptocurrencies
  \item Utility Token
  \item Security Token
  \item Non Fungible token
\end{itemize}
\end{frame}
\begin{frame}{Cryptocurrency}
Digital currency as a medium of exchange with three key characteristics
\begin{itemize}
  \item Anonymity
  \item No central authority
  \item Protected against double spending attack
\end{itemize}
\scriptsize
\begin{thebibliography}{1}

\bibitem{Lansky2018}
J.~Lansky, ``Possible state approaches to cryptocurrencies,'' {\em Journal of
  Systems Integration}, vol.~9, pp.~19--31, jan 2018.

\end{thebibliography}

\end{frame}

\begin{frame}{How does it work?}
\begin{enumerate}
  \item No central authority (Decentralized network)
  \item Ledger to record all the transactions and coin ownership (blockchain)
  \item A coin generation process (block finding reward)
    \begin{itemize}
    \item[$\hookrightarrow$] Incentive to the full nodes 
  \end{itemize}
  \item Ownership can be proved cryptographically (wallet associated to a public/private key)
  \item Transactions can be issued by an entity proving ownership of the cryptographic unit (through the private key) 
  \item The system cannot process more than one transaction associated to the same cryptographic unit (double spending)
\end{enumerate}
\end{frame}
\begin{frame}{More on anonymity}
\begin{itemize}
  \item Transparent account: The owner has revealed her identity in a credible manner
  \item Semi-transparent account: The owner identity is traceable by state authority
  \begin{itemize}
    \item Exchange to fiat currency with an exchange office that abids by KYC rules
  \end{itemize}
  \item Pseudo anonymous account: Owner identity is known by the owner's business partners (like a merchant who would remember the customer's face in the case of an extraordinary purchase).
  \item Anonymous account: Nobody knows the owner's identity, newly created account.
\end{itemize}
\end{frame}
\begin{frame}{Purposes of cryptocurrencies}
\begin{itemize}
  \item Micropayments: If the transaction fee is significantly lower than the amounts conveyed
      \begin{itemize}
    \item[$\hookrightarrow$] $\$0.03$ for DogeCoin  
  \end{itemize}
  \item Foreign payments: International payment without delay and bank fees
  \item Payments in countries with unstable local currencies: In some African and South American countries with high inflation rate
  \item Information retention: $\text{OP}\_\text{RETURN}$ transactions to add informations without transferring any amount of cryptographic unit. 
\end{itemize}
\end{frame}
\begin{frame}{Risk associated to cryptocurrencies}
\begin{itemize}
  \item Low market capitalisation: If the number of users is limited and the market cap is low then one user's trade may have disproportionate consequences of the coin value
  \item Private key = ownership:  Personal computers or server of wallet management services may be hacked. One solution is to resort to hardware to store the private key. 
  \item Transaction irreversibility: If some funds are transfered by misstake, they are not recoverables
  \item Account anonymity: Whenever an account issue transactions, it becomes pseudo-anonymous. It is difficult to for the authority to find the identity of a pseudo anonymous account when funds are used for criminal activities (financial theft, tax evasions, extortions or bribery). 
\end{itemize}
\end{frame}
\begin{frame}{Cryptocurrency implementation}
\scriptsize
Blockchain parameters
\begin{itemize}
  \item Consensus protocol (PoW or PoS) 
  \begin{itemize}
    \item[$\hookrightarrow$] \tiny Hash function (SHA-256 for Bitcoin and scrypt for LiteCoin) 
    \item[$\hookrightarrow$] \tiny Hybrid PoW/PoS (PeerCoin)
  \end{itemize}
  \item Block generation time \scriptsize
    \begin{itemize}
    \item[$\hookrightarrow$] \tiny every 10 minutes for Bitcoin 
    \item[$\hookrightarrow$] \tiny every 12 sec for Ethereum
  \end{itemize}
  \item Block finding reward\scriptsize
  \begin{itemize}
    \item[$\hookrightarrow$] \tiny Halved every 210,000 blocks in Bitcoin. It started at 50 BTC, is now 6.25 BTC \url{https://www.bitcoinblockhalf.com/}
  \end{itemize}
  \item Total coin supply\scriptsize
    \begin{itemize}
    \item[$\hookrightarrow$] \tiny 21,000,000 in total for Bitcoin
  \end{itemize}
  \item Transaction fees\scriptsize
      \begin{itemize}
    \item[$\hookrightarrow$] \tiny GAS in Ethereum
  \end{itemize}
\end{itemize}
These choices lead to the creation of multiple cryptocurrencies 
\begin{tcolorbox}[enhanced,drop shadow, title=Examples]
     Bitcoin and AltCoins (Ethereum, LiteCoin, DogeCoin, Ripple... ), see \url{https://en.wikipedia.org/wiki/List_of_cryptocurrencies}
\end{tcolorbox}

\end{frame}
\begin{frame}{Utility token}
Digital asset that grant access to goods and services provided by the network.  
\begin{itemize}
  \item Digital coupon or digital casino chip
  \item Mainly powered by the Ethereum blockchain through smart contracts
  \item Crowdfunding means for blockchain based start up projects via Initial Coin Offerings (discussed later)
\end{itemize}
\begin{tcolorbox}[enhanced,drop shadow, title=Examples]
    Funfair, Basic Attention Token, Golem token, FileCoin ...
\end{tcolorbox}
\end{frame}


\begin{frame}{Tokenized real-world assets}
\scriptsize
Tokenized version of a real-world, physical asset
\begin{itemize}
  \item Increases the liquidity of certain type of assets
  \item Make certain classes of assets available to the many
  \item Can be used as store of value or collateral
\end{itemize}
These token can be backed by 
\begin{itemize}
  \item fiat currency $\Rightarrow$ stablecoin
  \item commodities like gold \url{https://ekon.gold/}
  \item stocks (security token) that includes voting right and profit sharing mechanism
  \item Art
  \item Digital art (Non Fungible tokens on the Ethereum blockchain)
\end{itemize}
\begin{tcolorbox}[enhanced,drop shadow, title=Central authority]
    This requires a custodian to ensure that the tokens are actually backed by these off-chain assets (except for NFTs).
\end{tcolorbox}

\scriptsize
\begin{thebibliography}{1}

\bibitem{OECD}
OECD, ``The tokenisation of assets and potential implications for financial
  markets,'' tech. rep., 2020.

\end{thebibliography}
\end{frame}

\begin{frame}{Decentralized Finance applications}
\small
\begin{itemize}
  \item Fundraising instruments
  \item Decentralized exchange platforms
  \begin{itemize}
    \item \scriptsize Trades are settled on-chain (verifiable)
    \item \scriptsize Exchange do not own the users' funds (non-custodial)
    \item \scriptsize Automated Market Makers (AMM) to provide liquidity \url{https://uniswap.org/}
  \end{itemize}
  \item DeFi lending protocols
  \begin{itemize}
    \item Peer-to-peer lending
    \item Borrow against a smart contract reserves made ofa pool of users deposit 
    \item \textit{Overcollateralization}

  \end{itemize}

\end{itemize}
\end{frame}
\section{Cryptopricing}
\begin{frame}{Valuation models}
\begin{itemize}
\item Cryptocurrencies are medium of exchange and may be priced via transaction cost model (Beaumol-Tobin and such)

\scriptsize
\begin{thebibliography}{1}
\bibitem{Baumol1952}
W.~J. Baumol, ``The transactions demand for cash: An inventory theoretic
  approach,'' {\em The Quarterly Journal of Economics}, vol.~66, p.~545, nov
  1952.
\bibitem{Schilling2019}
L.~Schilling and H.~Uhlig, ``Some simple bitcoin economics,'' {\em Journal of
  Monetary Economics}, vol.~106, pp.~16--26, oct 2019.
\end{thebibliography}
\normalsize
\item Tokenized asset depends on the real asset that backs the token
\scriptsize
\begin{thebibliography}{1}

\bibitem{Hargrave2019}
J.~Hargrave, N.~Sahdev, and O.~Feldmeier, ``How value is created in tokenized
  assets,'' in {\em Blockchain Economics: Implications of Distributed Ledgers},
  pp.~125--143, {WORLD} {SCIENTIFIC} ({EUROPE}), jan 2019.

\end{thebibliography}
\normalsize
\item Utility tokens
\scriptsize
\begin{thebibliography}{1}

\bibitem{Gan2021}
J.~R. Gan, G.~Tsoukalas, and S.~Netessine, ``Initial coin offerings,
  speculation, and asset tokenization,'' {\em Management Science}, vol.~67,
  pp.~914--931, feb 2021.

\bibitem{Cong2020a}
L.~W. Cong, Y.~Li, and N.~Wang, ``Tokenomics: Dynamic adoption and valuation,''
  {\em The Review of Financial Studies}, vol.~34, pp.~1105--1155, aug 2020.

\end{thebibliography}

\end{itemize}
\end{frame}
\begin{frame}{ICO tuning and timeline}
\scriptsize
Game theoretic approach with three players: The firm, the speculators
and the customers that interacts over three time period
\begin{enumerate}
  \item ICO period
  \begin{itemize}
    \item \tiny The firm publishes a white paper and set 
    \begin{itemize}
    \item \tiny The token price $\tau$
    \item \tiny The total number of token $m$
    \item \tiny The number of tyoken issued to the investors during the ICO $n\leq m$.
  \end{itemize}
    \item \tiny $s$ among $z>>m$ investors buy token
  \end{itemize}
  \item Production period
  \begin{itemize}
    \item \tiny The firm uses the funds raised $s\tau$ to finance the production of $Q$ units of goods
  \end{itemize}
\item Market period
  \begin{itemize}
    \item \tiny Customers purchase token to meet their needs $D\sim F(.)$
  \end{itemize}
\end{enumerate}
\vspace{0.2cm}
\centering
\begin{tikzpicture}[%
    every node/.style={
        font=\scriptsize,
        % Better alignment, see https://tex.stackexchange.com/questions/315075
        text height=1ex,
        text depth=.25ex,
    },
]
% draw horizontal line   
\draw[->] (0,0) -- (8.5,0);

% draw vertical lines
% \foreach \x in {0,1,...,8}{
%     \draw (\x cm,3pt) -- (\x cm,0pt);
% }

\draw (0 cm,3pt) -- (0 cm,0pt);
\draw (2 cm,3pt) -- (2 cm,0pt);
\draw (4.5 cm,3pt) -- (4.5 cm,0pt);
\draw (7 cm,3pt) -- (7 cm,0pt);
% place axis labels
\node[anchor=north] at (0,0) {\tiny White paper};
\node[anchor=north] at (2,0) {\tiny ICO};
\node[anchor=north] at (2,-0.25) {\tiny starts};
\node[anchor=north] at (4.5,0) {\tiny Production};
\node[anchor=north] at (4.5,-0.25) {\tiny starts};
\node[anchor=north] at (7,0) {\tiny Product};
\node[anchor=north] at (7,-0.25) {\tiny launch};
\node[anchor=south] at (8.5,0) {$t$};

% Draw vertical line
\draw[->] (0,1) -- (0,0.25);
\node[anchor=south] at (0,1) {\tiny Company decides $\tau$ and $n$};
\draw[->] (4.5,1) -- (4.5,0.25);
\node[anchor=south] at (4.5,1) {\tiny Company decides $Q$};

% draw scale above
% \fill[myLightGray] (1,0.25) rectangle (2,0.4);
% \fill[myDarkGray] (2,0.25) rectangle (3,0.4);
% \fill[myDarkRed] (3,0.25) rectangle (4,0.4);
% \fill[myRed] (4,0.25) rectangle (5,0.4);
% \draw[myRed,dashed,thick,-latex] (5.05,0.325) -- (6.05,0.325);

% draw scale below
% \fill[myLightGray] (3,-0.4) rectangle (4,-0.55);
% \fill[myGray] (4,-0.4) rectangle (5,-0.55);
% \fill[myGreen] (5,-0.4) rectangle (6,-0.55);
% \draw[myGreen,dashed,thick,-latex] (6.05,-0.475) -- (7.05,-0.475);

% draw curly braces and add their labels
\draw[decorate,decoration={brace,amplitude=5pt}] (2,0.45) -- (4.25,0.45)
    node[anchor=south,midway,above=4pt] {\tiny Speculators buy tokens};
\draw[decorate,decoration={brace,amplitude=5pt}] (7,0.45) -- (8.5,0.45)
    node[anchor=south,midway,above=4pt] {\tiny Customers buy tokens};
\draw[decorate,decoration={brace,amplitude=5pt}] (4.5,-0.75) -- (2,-0.75)
    node[anchor=north,midway,below=4pt] {\tiny ICO period};
    \draw[decorate,decoration={brace,amplitude=5pt}] (7,-0.75) -- (4.5,-0.75)
    node[anchor=north,midway,below=4pt] {\tiny Production period};
    \draw[decorate,decoration={brace,amplitude=5pt}] (8.5,-0.75) -- (7,-0.75)
    node[anchor=north,midway,below=4pt] {\tiny Production period};
\end{tikzpicture}

\end{frame}
\begin{frame}{Searching for an equilibrium}
Let 
\begin{itemize}
\item $c$ be the production cost of one unit of good ($\$$ per unit)
\item $p$ be the value of the good in tokens per unit
\item $v$ How much the good is worth from the customers' point of view ($\$$ per unit)
\item $\tau_{eq}$ the token price at equilibrium
\end{itemize}
We have 
$$
\tau_{eq} = \frac{\min(Q,D)\cdot v}{m}
$$
Because the firm is a monopoly then $p = \tau_{eq}\cdot v$, and therefore
$$
p = \frac{m}{\min(Q,D)}.
$$

\end{frame}
\begin{frame}
\bibliography{../../blockastics}
\bibliographystyle{ieeetr}

\end{frame}

\end{document}
